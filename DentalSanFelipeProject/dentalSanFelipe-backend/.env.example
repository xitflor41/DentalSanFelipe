# ==========================================
# CONFIGURACIÓN DEL SERVIDOR
# ==========================================
PORT=3000
NODE_ENV=development

# ==========================================
# CONFIGURACIÓN DE BASE DE DATOS
# ==========================================
DB_HOST=localhost
DB_PORT=3306
DB_USER=root
DB_PASS=root
DB_NAME=dental_sanfelipe

# ==========================================
# SEGURIDAD Y AUTENTICACIÓN
# ==========================================
# IMPORTANTE: Cambia estos secretos en producción por valores seguros y únicos
# Puedes generar secretos seguros con: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET=tu_clave_secreta_jwt_muy_segura_cambiala_en_produccion
JWT_REFRESH_SECRET=tu_clave_secreta_refresh_jwt_muy_segura_cambiala_en_produccion
JWT_EXPIRES_IN=24h
JWT_REFRESH_EXPIRES_IN=7d

# ==========================================
# CONFIGURACIÓN DE USUARIO ADMINISTRADOR
# ==========================================
# Contraseña para el usuario admin inicial (seed)
SEED_ADMIN_PASS=Admin123!

# ==========================================
# NOTIFICACIONES WHATSAPP (TWILIO)
# ==========================================
# Para obtener estas credenciales:
# 1. Crea una cuenta gratuita en https://www.twilio.com/try-twilio
# 2. Ve a Console Dashboard (https://console.twilio.com/)
# 3. Copia tu Account SID y Auth Token
# 4. Ve a Messaging > Try it out > Send a WhatsApp message
# 5. Sigue los pasos para conectar tu WhatsApp al sandbox de Twilio
# 6. Para producción, solicita aprobación del WhatsApp Business API

# Credenciales de Twilio (obtén en https://console.twilio.com/)
TWILIO_ACCOUNT_SID=ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
TWILIO_AUTH_TOKEN=tu_auth_token_aqui

# Número de WhatsApp de Twilio
# Sandbox (desarrollo): whatsapp:+14155238886
# Producción: whatsapp:+52XXXXXXXXXX (tu número aprobado)
TWILIO_WHATSAPP_FROM=whatsapp:+14155238886

# Modo de simulación
# true = No envía mensajes reales (solo logs en consola)
# false = Envía mensajes reales a través de Twilio
WHATSAPP_SIMULATION_MODE=true

# ==========================================
# ALMACENAMIENTO DE ARCHIVOS
# ==========================================
# Ruta donde se almacenarán los archivos adjuntos (radiografías, documentos)
UPLOAD_PATH=./uploads/adjuntos
# Tamaño máximo de archivo en bytes (10MB = 10485760)
MAX_FILE_SIZE=10485760
# Tipos de archivo permitidos (separados por coma)
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/webp,application/pdf

# ==========================================
# CORS
# ==========================================
# URL del frontend para CORS (separar múltiples con comas)
FRONTEND_URL=http://localhost:4200
# En producción: https://dental-sanfelipe.com,https://www.dental-sanfelipe.com

# ==========================================
# WORKER DE NOTIFICACIONES
# ==========================================
# Intervalo en milisegundos para verificar notificaciones pendientes (30 segundos)
NOTIFICATION_WORKER_INTERVAL=30000
# Número máximo de intentos de reenvío
NOTIFICATION_MAX_RETRIES=3
# Tiempo antes de la cita para enviar recordatorio (en horas)
NOTIFICATION_REMINDER_HOURS=24

# ==========================================
# LOGS
# ==========================================
# Nivel de logs: error, warn, info, debug
LOG_LEVEL=info
# Guardar logs en archivo (true/false)
LOG_TO_FILE=false

# ==========================================
# LÍMITES Y TIMEOUTS
# ==========================================
# Límite de peticiones por IP (por ventana de tiempo)
RATE_LIMIT_MAX=100
RATE_LIMIT_WINDOW_MS=900000
# Timeout de consultas a base de datos (en ms)
DB_QUERY_TIMEOUT=10000
